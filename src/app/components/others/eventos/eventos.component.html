<div class="modal fade" id="eventos">
  <div class="modal-dialog">
    <div class="modal-content">
        <form [formGroup]="eventoForm">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Eventos UPEU</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body">
       
          <input type="file" #fileupload [(ngModel)]="myFile" name="myFile" (change)="fileEvent($event)" [ngModelOptions]="{standalone: true}">

          <input type="text" formControlName="id" id="id" name="id" class="form-control" maxlength="10" [hidden]=true>
          <br>
          <label>Titulo: </label>
          <input type="text" formControlName="nombre" id="nombre" name="nombre" class="form-control">
          <div [hidden]="eventoForm.get('nombre').valid || 
          eventoForm.get('nombre').pristine" class="alert alert-danger">
          Nombre es importante
          </div>
      
          <br>
          <label>Descripcion: </label>
          <input type="text" formControlName="descripcion" id="descripcion" name="descripcion" class="form-control">
          <div [hidden]="eventoForm.get('descripcion').valid || 
          eventoForm.get('descripcion').pristine" class="alert alert-danger">
          Descripcion es importante
          </div>
      
          <br>
          <label>Fecha de Inicio: </label>
          <input type="date" formControlName="fec_inicio" id="fec_inicio" name="fec_inicio" class="form-control">
          <div [hidden]="eventoForm.get('fec_inicio').valid || 
          eventoForm.get('fec_inicio').pristine" class="alert alert-danger">
          La fecha Inicio es importante
          </div>
      
          <br>
          <label>Fecha Final: </label>
          <input type="date" formControlName="fec_fin" id="fec_fin" name="fec_fin" class="form-control">
          <div [hidden]="eventoForm.get('fec_fin').valid || 
          eventoForm.get('fec_fin').pristine" class="alert alert-danger">
          La fecha Final es importante
          </div>
      
          
          
      </div>
    </form>
      <!-- Modal footer -->
      <div class="modal-footer">
          <button type="submit" [disabled]="!eventoForm.valid" class="form-control alert-success" (click)="save(f)">Submit</button>
          <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="borrar()">Close</button>
      </div>
    
    </div>
  </div>
</div>
<div class="modal fade" id="detalles">
  <div class="modal-dialog">
    <div class="modal-content">
    
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Evento UPEU</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body">
        <form [formGroup]="eventoForm" >
        
          <label>Titulo: </label>
          <input type="text" formControlName="nombre" id="nombre" name="nombre" class="form-control" disabled>
          <div [hidden]="eventoForm.get('nombre').valid || 
          eventoForm.get('nombre').pristine" class="alert alert-danger">
          Nombre es importante
          </div>
      
          <br>
          <label>Descripcion: </label>
          <input type="text" formControlName="descripcion" id="descripcion" name="descripcion" class="form-control" disabled>
          <div [hidden]="eventoForm.get('descripcion').valid || 
          eventoForm.get('descripcion').pristine" class="alert alert-danger">
          Descripcion es importante
          </div>
      
          <br>
          <label>Fecha de inicio: </label>
          <input type="date" formControlName="fec_inicio" id="fec_inicio" name="fec_inicio" class="form-control" disabled>
          <div [hidden]="eventoForm.get('fec_inicio').valid || 
          eventoForm.get('fec_inicio').pristine" class="alert alert-danger">
          La fecha Inicio es importante
          </div>
      
          <br>
          <label>Fecha Final: </label>
          <input type="date" formControlName="fec_fin" id="fec_fin" name="fec_fin" class="form-control" disabled>
          <div [hidden]="eventoForm.get('fec_fin').valid || 
          eventoForm.get('fec_fin').pristine" class="alert alert-danger">
          La fecha Final es importante
          </div>
          </form>
      </div>
      
      <!-- Modal footer -->
      <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="borrar()">Close</button>
      </div>
      
    </div>
  </div>
</div>
<div class="modal fade" id="update">
    <div class="modal-dialog">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Evento UPEU</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
          <form [formGroup]="eventoForm" >
          
            <label>Titulo: </label>
            <input type="text" formControlName="nombre" id="nombre" name="nombre" class="form-control">
            <div [hidden]="eventoForm.get('nombre').valid || 
            eventoForm.get('nombre').pristine" class="alert alert-danger">
            Nombre es importante
            </div>
        
            <br>
            <label>Descripcion: </label>
            <input type="text" formControlName="descripcion" id="descripcion" name="descripcion" class="form-control">
            <div [hidden]="eventoForm.get('descripcion').valid || 
            eventoForm.get('descripcion').pristine" class="alert alert-danger">
            Descripcion es importante
            </div>
        
            <br>
            <label>Fecha de inicio: </label>
            <input type="date" formControlName="fec_inicio" id="fec_inicio" name="fec_inicio" class="form-control">
            <div [hidden]="eventoForm.get('fec_inicio').valid || 
            eventoForm.get('fec_inicio').pristine" class="alert alert-danger">
            La fecha Inicio es importante
            </div>
        
            <br>
            <label>Fecha Final: </label>
            <input type="date" formControlName="fec_fin" id="fec_fin" name="fec_fin" class="form-control">
            <div [hidden]="eventoForm.get('fec_fin').valid || 
            eventoForm.get('fec_fin').pristine" class="alert alert-danger">
            La fecha Final es importante
            </div>
            </form>
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
            <button type="button" class="btn btn-success" (click)="update(eventoForm.value.id)">Actualizar</button>
            <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="borrar()">Close</button>
        </div>
        
      </div>
    </div>
  </div>
<div class="row mt-5" *ngIf="list">
  <div class="col-12">
    <div class="row">
      <div class="col-12" style="text-align: center;">
          <button data-toggle="modal" data-target="#eventos" class="btn btn-primary" *ngIf="list.rol == 1"  style="padding-right: 25px;
                padding-left: 25px;">AGREGAR EVENTO</button>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
          <div class="lista-productos">
              <div class="producto" *ngFor="let d of evento">
                  <div class="imagenp">
                      <img src='https://serve-ecom.herokuapp.com/uploads/eventos/{{d.imagen}}' alt="img event" (click)="detalles(d.id)" data-toggle="modal" data-target="#detalles" >
                  </div>
                  <div class="row">
                    <div class="col-8" style="    margin: auto;">
                        <button type="button" class="btn btn-warning align-content-start" (click)="detalles(d.id)" data-toggle="modal" data-target="#update" style="float: left;" *ngIf="list.rol == 1">Actualizar</button>
                        <button type="button" class="btn btn-danger ml-2" (click)="delete(d.id)" style="float: right;" *ngIf="list.rol == 1"> Eliminar</button>
                      </div>
                  </div>
              </div>
          </div>
      </div>
    </div>
  </div>
</div>
